<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iframe with Camera Permission</title>
    <style>
        /* Set the body and html to occupy full height of the screen */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden; /* Prevent scrolling */
        }

        /* Make iframe fill the entire screen */
        iframe {
            width: 100%;
            height: 100%;
            border: none; /* Remove iframe borders */
        }
    </style>
</head>
<body>
    
    
    <!-- iframe with a source that requires camera access -->
    <iframe src="https://curecms.cortifox.com/" id="cameraIframe" allow="camera; microphone"></iframe>

    <!-- JavaScript to request camera permissions -->
    <script>
        const iframe = document.getElementById('cameraIframe');
        
        // Function to request camera access and handle permission
        async function requestCameraPermission() {
            try {
                // Check if the browser supports getUserMedia
                if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                    // If the camera is granted, you can pass the stream to the iframe
                    iframe.contentWindow.postMessage({ type: 'cameraGranted', stream }, '*');
                }
            } catch (error) {
                console.error('Camera permission denied or failed to access camera:', error);
            }
        }

        // Request camera permission when the page loads
        requestCameraPermission();
    </script>
</body>
</html>
